% !TeX root = main.tex
% !TeX spellcheck = en_GB
\documentclass[
    oneside,
    bibliography=totocnumbered, % Include bibliography in TOC with number
    listof=totocnumbered,       % Include List of Tables/Figures in TOC with number
    numbers=noenddot            % Changes heading numbering from 1.1. to 1.1
    % appendixprefix = true     % Makes Appendix A... First appendix chapter, disable for one appendix
]{scrbook}

%------------------------------------------------------------%
% SETTINGS AND PACKAGES
    \input{preamble/layout}
    \input{preamble/typesetting}
    \input{preamble/toc}
    \input{preamble/lists}
    \input{preamble/math}
    \input{preamble/graphics} % Graphics, colour, tables packages and settings
    \graphicspath{{graphics/},{images/}} % TODO: Add relevant paths


% MODULES (YOU CAN DISABLE THESE)
    \input{preamble/code} % Display code
    \input{preamble/data} % Reading data
    \input{preamble/pgf}  % Making diagrams & plots

% CHOOSE HOW UNITS AND NUMBERS ARE DISPLAYED
    \sisetup{ % TODO: Choose locale and settings
        locale = US,                % Localisation US or DE recommended
        % per-mode=symbol,          % Display as / fractions
        separate-uncertainty,
        % exponent-product=\cdot    % Use \times for x multiplier
    }

% CITING AND REFERENCING
    \usepackage[
        backend=biber,
        maxcitenames=3,
        sorting=none
    ]{biblatex}

    \addbibresource{bibliography.bib}   % File(s) with your sources
%    \renewcommand{\bibfont}{\small}  % Adjust size here
    
    \counterwithin{figure}{chapter}     % Set figure counter to include chapter
    \counterwithin{table}{chapter}      % Set table counter to include chapter
    \counterwithin{equation}{chapter}   % Set equation counter to include chapter

%------------------------------------------------------------%
% FRONT PAGE
    \input{preamble/titlepage-fields}
    \input{preamble/titlepage-data} % TODO: Fill this out
    \input{preamble/titlepage}
    \input{preamble/declarationDE}
    \input{preamble/declarationEN}  % TODO: Adjust preamble/signature settings

%------------------------------------------------------------%
% FOR TESTING
    \usepackage{showframe}
    \usepackage{blindtext}

%==============================================================================================%
%                                      DOCUMENT                                                %
%==============================================================================================%

\begin{document}
    \selectlanguage{english} % Set language -> naustrian or ngerman for new austrian/german

    %------------------------------------------------------------%
    % FRONTMATTER
        \frontmatter % Everything before the content of the thesis starts
        \pagenumbering{Roman} % Uppercase Roman numerals, only frontmatter

    % SELECT TITLEPAGE LANGUAGE
        \titlepageEN
        % \titlepageDE

    % PREFACE, ACKNOWLEDGEMENTS, ETC.
        \include{frontmatter/preface}

    % SELECT DECLARATION LANGUAGE
        \declarationEN
        % \declarationDE

    % ABSTRACTS (GERMAN & ENGLISH)
        \include{frontmatter/abstractEN}
        \include{frontmatter/abstractDE}

    % TABLE OF CONTENTS
        \markleft{\contentsname} % Adds "Contents" or equivalent to header
        \setSectioning % Sets indents and separation for TOC
        \tableofcontents

    %------------------------------------------------------------%
    % MAINMATTER (CONTENT)
        \mainmatter % Main part of the thesis, from the introduction to the conclusion

    % INTRODUCTION
        \include{mainmatter/introduction}


    % CHAPTER 0 - DEMO
        \include{mainmatter/ch-demo/ch-demo}
        \include{mainmatter/ch-demo/demo-tables}
        \include{mainmatter/ch-demo/demo-graphics}
        \include{mainmatter/ch-demo/demo-math}
        \include{mainmatter/ch-demo/demo-item}

    % CHAPTER I - THEORY
        \include{mainmatter/ch1/ch1}
        % \include{mainmatter/ch1/sec1}

    % CHAPTER II - PRACTICE

    % TESTING SECTION
        \blinddocument
        \blindmathpaper
        \cite{WWW:MenschlicherEinflussKlima}
        \cite{Norm:ISO690:2021}
        \cite{Lehrndorfer:KontrollierteSprache}
        \cite{Meier:Globalisierung}
        \cite{Mueller:Meier}
        \cite{Mueller:Meier:Huber}
        \cite{Mueller:Meier:Huber:Tausch}
        \cite{Norm:ONR12658:2013}
        \cite{Norm:OENORMA2662:2023}
        \cite{OpenAI:2023}
        \cite{Schulz:NormPraxis}

    %------------------------------------------------------------%
    % BACKMATTER (OPTIONAL)
        % \backmatter % Disables chapter numbering
        \begingroup \small
        \printbibliography
        \listoffigures
        \listoftables
        \endgroup
        

    %------------------------------------------------------------%
    % APPENDICES
        \appendix % Changes chapter numbering to Alphabetic
        \include{appendices/append1} % Create folders as necessary
        \include{appendices/demo-pdf}
        \include{appendices/demo-code}

    %------------------------------------------------------------%
\end{document}
